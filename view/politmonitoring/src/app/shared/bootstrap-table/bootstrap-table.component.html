<div class="row" xmlns:slice="http://www.w3.org/1999/xhtml">
  <div class="col-12">
    <div class="card">
      <div class="card-body">
        <div class="row">
          <div class="col-8">
            <h2>{{title}} ({{data.length}})</h2>
          </div>
          <div class="col-4">
            <div class="row">
              <div class="input-group col-12">
                <div class="input-group-prepend">
                  <span class="input-group-text" id="input_search_addon">
                     <i class="fa fa-search"></i>
                  </span>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="paginationWrapper">
            <ul class="pagination">
              <li [class.disabled]="pagination.start === 0" [class.waves-effect]="pagination.start !== 0"><a (click)="pageBack()"><i class="fas fa-chevron-left"></i></a></li>
              <li id="pageView">{{pagination.start}} - {{pagination.end}} / {{dataAfterFilter.length}}</li>
              <li [class.disabled]="pagination.end === dataAfterFilter.length" [class.waves-effect]="pagination.end !== dataAfterFilter.length"><a (click)="pageUp()"><i class="fas fa-chevron-right"></i></a></li>
            </ul>
        </div>
        <div class="row">
          <div class="col-12">
            <div id="tableWrapper">
              <table id="table" class="table highlight table-hover">
                <tr>
                  <th class="titleCol" (click)="changeSortBy('geschaefts_nr')">
                    <p>Geschäftsnummer
                      <i *ngIf="'geschaefts_nr' === sort.sortBy && sort.asc" class="fas fa-chevron-up"></i>
                      <i *ngIf="'geschaefts_nr' === sort.sortBy && !sort.asc" class="fas fa-chevron-down"></i>
                    </p>
                  </th>
                  <th class="titleCol" (click)="changeSortBy('instrument')">
                    <p>Instrument
                      <i *ngIf="'instrument' === sort.sortBy && sort.asc" class="fas fa-chevron-up"></i>
                      <i *ngIf="'instrument' === sort.sortBy && !sort.asc" class="fas fa-chevron-down"></i>
                    </p>
                  </th>
                  <th class="titleCol" (click)="changeSortBy('urheber')">
                    <p>Urheber
                      <i *ngIf="'urheber' === sort.sortBy && sort.asc" class="fas fa-chevron-up"></i>
                      <i *ngIf="'urheber' === sort.sortBy && !sort.asc" class="fas fa-chevron-down"></i>
                    </p>
                  </th>
                  <th class="titleCol" (click)="changeSortBy('titel')">
                    <p>Titel
                      <i *ngIf="'titel' === sort.sortBy && sort.asc" class="fas fa-chevron-up"></i>
                      <i *ngIf="'titel' === sort.sortBy && !sort.asc" class="fas fa-chevron-down"></i>
                    </p>
                  </th>
                  <th class="titleCol" (click)="changeSortBy('status')">
                    <p>Status
                      <i *ngIf="'status' === sort.sortBy && sort.asc" class="fas fa-chevron-up"></i>
                      <i *ngIf="'status' === sort.sortBy && !sort.asc" class="fas fa-chevron-down"></i>
                    </p>
                  </th>
                  <th class="titleCol" (click)="changeSortBy('letzte_ueberweisung')">
                    <p>Letzte Überweisung
                      <i *ngIf="'letzte_ueberweisung' === sort.sortBy && sort.asc" class="fas fa-chevron-up"></i>
                      <i *ngIf="'letzte_ueberweisung' === sort.sortBy && !sort.asc" class="fas fa-chevron-down"></i>
                    </p>
                  </th>
                  <th class="titleCol" (click)="changeSortBy('themenbereich')">
                    <p>Themenbereich
                      <i *ngIf="'themenbereich' === sort.sortBy && sort.asc" class="fas fa-chevron-up"></i>
                      <i *ngIf="'themenbereich' === sort.sortBy && !sort.asc" class="fas fa-chevron-down"></i>
                    </p>
                  </th>
                  <th class="titleCol" (click)="changeSortBy('thema_1')">
                    <p>Thema 1
                      <i *ngIf="'thema_1' === sort.sortBy && sort.asc" class="fas fa-chevron-up"></i>
                      <i *ngIf="'thema_1' === sort.sortBy && !sort.asc" class="fas fa-chevron-down"></i>
                    </p>
                  </th>
                  <th class="titleCol" (click)="changeSortBy('thema_2')">
                    <p>Thema 2
                      <i *ngIf="'thema_2' === sort.sortBy && sort.asc" class="fas fa-chevron-up"></i>
                      <i *ngIf="'thema_2' === sort.sortBy && !sort.asc" class="fas fa-chevron-down"></i>
                    </p>
                  </th>
                  <th class="titleCol" (click)="changeSortBy('schwerpunktthema')">
                    <p>Schwerpunktthema
                      <i *ngIf="'schwerpunktthema' === sort.sortBy && sort.asc" class="fas fa-chevron-up"></i>
                      <i *ngIf="'schwerpunktthema' === sort.sortBy && !sort.asc" class="fas fa-chevron-down"></i>
                    </p>
                  </th>
                  <th class="titleCol" (click)="changeSortBy('konsorten')">
                    <p>Konsorten
                      <i *ngIf="'konsorten' === sort.sortBy && sort.asc" class="fas fa-chevron-up"></i>
                      <i *ngIf="'konsorten' === sort.sortBy && !sort.asc" class="fas fa-chevron-down"></i>
                    </p>
                  </th>
                  <th class="titleCol" (click)="changeSortBy('link')">
                    <p>Link
                      <i *ngIf="'link' === sort.sortBy && sort.asc" class="fas fa-chevron-up"></i>
                      <i *ngIf="'link' === sort.sortBy && !sort.asc" class="fas fa-chevron-down"></i>
                    </p>
                  </th>
                </tr>
                <tr #table *ngFor="let entry of dataAfterFilter | sortBy: sort.sortBy: sort.asc | slice:pagination.start:pagination.end"
                    (click)="selectEntry(entry)">
                  <td>
                    <span *ngIf="entry['Geschäfts-nr.']" [innerHTML]="entry['Geschäfts-nr.'].toString() | highlight:searchString"></span>
                    <span *ngIf="!entry['Geschäfts-nr.']"></span>
                  </td>
                  <td>
                    <span *ngIf="entry['Instrument']" [innerHTML]="entry['Instrument'].toString() | highlight:searchString"></span>
                    <span *ngIf="!entry['Instrument']"></span>
                  </td>
                  <td>
                    <span *ngIf="entry['UrheberIn']" [innerHTML]="entry['UrheberIn'].toString() | highlight:searchString"></span>
                    <span *ngIf="!entry['UrheberIn']"></span>
                  </td>
                  <td>
                    <span *ngIf="entry['Titel']" [innerHTML]="entry['Titel'].toString() | highlight:searchString"></span>
                    <span *ngIf="!entry['Titel']"></span>
                  </td>
                  <td>
                    <span *ngIf="entry['Status']" [innerHTML]="entry['Status'].toString() | highlight:searchString"></span>
                    <span *ngIf="!entry['Status']"></span>
                  </td>
                  <td>
                    <span *ngIf="entry['Jahr']" [innerHTML]="entry['Jahr'].toString() | highlight:searchString"></span>
                    <span *ngIf="!entry['Jahr']"></span>
                  </td>
                  <td>
                    <span *ngIf="entry['Themenbereich']" [innerHTML]="entry['Themenbereich'].toString() | highlight:searchString"></span>
                    <span *ngIf="!entry['Themenbereich']"></span>
                  </td>
                  <td>
                    <span *ngIf="entry['Thema 1 (gleiche Nr. wie Themenbereich)']" [innerHTML]="entry['Thema 1 (gleiche Nr. wie Themenbereich)'].toString() | highlight:searchString"></span>
                    <span *ngIf="!entry['Thema 1 (gleiche Nr. wie Themenbereich)']"></span>
                  </td>
                  <td>
                    <span *ngIf="entry['Thema 2 (andere Nr.)']" [innerHTML]="entry['Thema 2 (andere Nr.)'].toString() | highlight:searchString"></span>
                    <span *ngIf="!entry['Thema 2 (andere Nr.)']"></span>
                  </td>
                  <td>
                    <span *ngIf="entry['Schwerpunktthema (bei Bedarf)']" [innerHTML]="entry['Schwerpunktthema (bei Bedarf)'].toString() | highlight:searchString"></span>
                    <span *ngIf="!entry['Schwerpunktthema (bei Bedarf)']"></span>
                  </td>
                  <td class="customToolTip">
                    <span *ngIf="entry['Konsorten']" [innerHTML]="(entry['Konsorten'].slice(0, 70).toString() | highlight:searchString) + '...'"></span>
                    <span *ngIf="!entry['Konsorten']"></span>
                    <span class="tooltiptext">{{entry.Konsorten}}</span>
                  </td>
                  <td>
                    <span *ngIf="entry['Link']" [innerHTML]="entry['Link'].toString() | highlight:searchString"></span>
                    <span *ngIf="!entry['Link']"></span>
                  </td>
                </tr>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
